<app-header></app-header>

<!-- my top search input -->

<div class="inputSection">
  <input type="text" class="searchField" placeholder="Rechercher.." />
</div>

<!-- Add one article when Admin -->
<div *ngIf="appService.isAdmin(user) && user" class="addSection">
  <button (click)="redirectToAddArticle()" class="buttonAdd">+</button>
</div>

<!-- left section desktop, top responsive -->

<div class="filterSection"></div>

<!-- right section -->

<div class="ShoppingCartSection">
  <div class="DropDown" (click)="toggleDropDown($event)">
    <div class="DropDownContent"></div>
  </div>
</div>

<!-- my section middle, left responsive who contain all article -->

<div class="containerArticle">
  <section class="cardGrid">
    <app-card-article
      *ngFor="
        let article of articles
          | paginate : { itemsPerPage: itemsPerPage, currentPage: currentPage }
      "
      [name]="article.name"
      [src]="'http://localhost:3000' + article.imageUrl"
      [price]="article.price"
      [rating]="article.rating"
      [id]="article.id"
      [user]="user"
      (articleDeleted)="handleArticleDeletion($event)"
    >
    </app-card-article>
    <app-card-article
      *ngFor="
        let article of articles
          | paginate : { itemsPerPage: itemsPerPage, currentPage: currentPage }
      "
      [name]="article.name"
      [src]="'http://localhost:3000' + article.imageUrl"
      [price]="article.price"
      [rating]="article.rating"
      [id]="article.id"
      [user]="user"
      (articleDeleted)="handleArticleDeletion($event)"
    >
    </app-card-article>
  </section>
  <pagination-controls
    (pageChange)="currentPage = $event"
  ></pagination-controls>
</div>
